---
title: MuuCmf版本管理规范 20170323
tags: 版本管理,发布,发行,管理规范
grammar_cjkRuby: true
---


# MuuCmf版本管理规范

## 一、  版本管理目标

本规范建立的目的是规范软件产品的开发、测试、发布流程，提高开发人员的代码开发质量，通过加强对编码过程的监控，细化工作流程，达到提升软件开发效率，并逐步推进敏捷开发过程，实现代码管理的自动化。

## 二、   版本管理工具

### (一) Git
Git是Linux创始人Linus主导开发的开放源代码的版本控制工具。与常用的版本控制工具 CVS, Subversion等不同，它采用了分布式版本库的方式，不必服务器端软件支持，使源代码的发布和交流极其方便。Git最为出色的是它的分支管理和合并跟踪（merge tracing）能力。
　　  
### (二) Git使用方法
请参考部门内提供的技术文档：《GIT使用说明》

## 三、  版本管理流程

### (一) 岗位划分

#### 1.  代码管理员（Source Code Manager）
> 负责管理版本管理系统使用者的权限。
> 根据项目新建请求，创建新开发分支并划分权限。
> 负责监督生产用分支代码的集成/编译/部署。

#### 2.  项目开发负责人（Project Leader）
> 全面负责管理项目所涉及到所有相关资源，包括文档、代码等。
> 审核本项目中所有提交到测试和生产分支上的代码，对其质量和可靠性负有责任。
> 对项目开发进度负责。
> 负责项目开发分支的管理工作。

#### 3.  项目开发组成员（Project Developer）
> 承担具体代码开发工作。
> 负责个人开发分支上代码管理工作。
> 负责个人开发内容的自测工作。
> 对提交到项目分支上的代码质量控制，负有主要责任。

#### 4.  测试组人员（Project Tester）
> 负责项目的全面测试工作，对测试报告的可靠性承担主要责任

### (二) 版本树划分
#### 1.  生产分支 master
最新节点应与生产环境中的运行软件保持一致，此分支上的所有节点均满足生产上线要求，并根据实际生产环境代码状态进行演进。完成测试准备上线的项目代码，必须提交到该分支上，进行独立编译生成部署文件。

#### 2.  项目分支 develop
收集开发人员的开发成果，由项目开发负责人统一管理。
此分支的生命周期与项目开发周期一致。项目立项时由代码管理员建立此分支，项目进行中由项目开发负责人管理此分支，所有开发人员的开发成果需要汇总到此分支，项目结束后关闭该分支的提交功能，只允许进行查询。

#### 3. 修复补丁分支 hotfix
为生产分支发现系统BUG后的临时修复分支，项目进行中由项目开发负责人管理此分支，项目修复测试完成后即可合并至生产分支，同时删除该分支。

#### 4.  个人开发分支
由开发组成员自主创建和管理，承担日常开发过程中代码归集，记录详细开发过程。要求每日工作完成必须在该分支上产生节点，每一个功能点均有独立的节点存在。

#### 5. 发行分支 release 
项目对外发布版本，由项目开发负责人统一管理。
此分支的生命周期与项目开发周期一致。其子分支的命名为标准的版本发布名相同，项目发行时由代码管理员建立此分支，项目发行中由项目开发负责人管理此分支，项目结束后关闭该分支的提交功能，只允许进行查询。



### (三) 流程分析

#### 1.  流程图



#### 2.  流程介绍
- 成立
> 代码管理员收到项目成立申请，根据项目归属，从指定的生产分支节点拉出项目分支，将项目组相关人员添加到项目分支下，设定相应权限，提供分支地址等信息给项目负责人。
项目负责人在项目分支上做初始化设定，做基本修改，建立初始版本后，将项目分支信息提供给开发组成员。

- 开发
> 项目组开发成员以项目分支为父分支，建立包含个人姓名的开发子分支（可多个），并在该分支上进行代码修改。在完成修改后，提交代码，在开发环境中获取修改后的代码，进行编译调试和自测，根据调试结果进行后续的代码开发工作。在完成一个功能点的代码开发并自测通过后，将个人开发分支及集成节点信息，提交给测试组成员，进行单个功能点测试。

> 测试组完成单个功能点测试后，开发成员将个人修改代码和项目分支最新点进行对比，并将对比结果提交给项目负责人进行代码评审。项目负责人根据评审结果，决定是否将该代码合并到项目分支。

-  测试
> 在完成所有的项目开发工作和代码评审后，项目负责人将最终的代码节点信息提交项目测试组，由测试组根据节点内容进行编译、部署、测试后，根据测试结果，提交测试报告。

- 部署
> 代码管理员在项目满足进行生产部署的所有必备条件后，将项目分支的最终测试通过节点，合并到生产分支，并启动生产环境的编译、部署工作。
***

## 四、版本发行

### 1. 软件版本阶段说明

#### Base版
> 此版本表示该软件仅仅是一个假页面链接，通常包括所有的功能和页面布局，但是页面中的功能都没有做完整的实现，只是做为整体网站的一个基础架构。

#### Alpha版
> 此版本表示该软件在此阶段主要是以实现软件功能为主，通常只在软件开发者内部交流，一般而言，该版本软件的Bug较多，需要继续修改。

#### Beta版
> 该版本相对于Alpha版已有了很大的改进，消除了严重的错误，但还是存在着一些缺陷，需要经过多次测试来进一步消除，此版本主要的修改对像是软件的UI。

#### RC版
> 该版本已经相当成熟了，基本上不存在导致错误的BUG，与即将发行的正式版相差无几。

#### Release版
> 该版本意味“最终版本”，在前面版本的一系列测试版之后，终归会有一个正式版本，是最终交付用户使用的一个版本。该版本有时也称为标准版。一般情况下，Release不会以单词形式出现在软件封面上，取而代之的是符号(Ｒ)。
 
### 2. 版本命名规范

> 软件版本号由四部分组成，第一个1为主版本号，第二个1为子版本号，第三个1为阶段版本号，第四部分为日期版本号加希腊字母版本号，希腊字母版本号共有5种，分别为：Base、Alpha、Beta、RC、Release。例如：1.1.1.20171021_Beta（首字母约定为大写）。


### 3 版本号修改规则

- #### 主版本号
> 当功能模块有较大的变动，比如增加多个模块或者整体架构发生变化。此版本号由项目决定是否修改。

- #### 子版本号
> 当功能有一定的增加或变化，比如增加了对权限控制、增加自定义视图等功能。此版本号由项目决定是否修改。

- #### 阶段版本号
> 一般是 Bug 修复或是一些小的变动，要经常发布修订版，时间间隔不限，修复一个严重的bug即可发布一个修订版。此版本号由项目经理决定是否修改。

- #### 日期版本号
> 用于记录修改项目的当前日期，每天对项目的修改都需要更改日期版本号。此版本号由开发人员决定是否修改。

- #### 希腊字母版本号
> 此版本号用于标注当前版本的软件处于哪个开发阶段，当软件进入到另一个阶段时需要修改此版本号。此版本号由项目决定是否修改。


### 4. 系统补丁

发行新版本时同时制作系统修复补丁，以便用户在线或离线升级，修复补丁的命名需在发行版本前增加**updata**前缀，如**updata_1.1.1.20171021_Beta**。同时readme文档要注明允许升级的旧版本号，不符合升级的旧版本禁止升级，以免造成系统故障。




